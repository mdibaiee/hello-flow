import:
  - file-sizes.flow.yaml

captures:
  acmeCo/postgres/source-files:
    endpoint:
      airbyteSource:
        image: ghcr.io/estuary/source-gcs:dev
        config: acmeCo/source-gcs.config.yaml
    bindings:
      - resource:
          syncMode: incremental
          stream: hellow-flow
        target: acmeCo/files

materializations:
  acmeCo/firebolt/materialize-file-sizes:
    endpoint:
      flowSink:
        image: docker.io/library/materialize-firebolt:local
        config: acmeCo/materialize-firebolt.config.yaml
    bindings:
      - resource:
          table: files
          table_type: fact
        source: acmeCo/file-sizes
        #fields:
          #recommended: true
          # include: { arr: {} }

  #acmeCo/postgres/materialize-file-sizes:
  #  endpoint:
  #    flowSink:
  #      image: ghcr.io/estuary/materialize-postgres:dev
  #      config:
  #        database: flow
  #        host: localhost
  #        password: flow
  #        port: 5432
  #        user: flow
  #  bindings:
  #    - resource:
  #        table: file_sizes
  #      source: acmeCo/file-sizes
